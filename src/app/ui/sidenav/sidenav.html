<mat-tree [dataSource]="data" [childrenAccessor]="childrenOf" [trackBy]="trackByNode" class="tree">
  <!-- file -->
      <!-- @if(node.children.length > 0){ -->
  <mat-nested-tree-node
    *matTreeNodeDef="let node; when: isFile"
    class="node file"
    [isExpandable]="false"
  >
    <button mat-icon-button disabled></button>
    <mat-icon>insert_drive_file</mat-icon>
    <span class="name" (click)="open(node)">{{ node.name }}</span>
  </mat-nested-tree-node>
<!-- } -->

  <!-- folder -->
   <!-- @if(node.children.length > 0){ -->
     <mat-nested-tree-node
       *matTreeNodeDef="let node; when: isFolder"
       class="node folder"
       [isExpandable]="true"
       [isExpanded]="expanded(node)"
     >
       <div class="row">
         <button mat-icon-button (click)="toggle(node)">
           <mat-icon class="mat-icon-mirror">{{
             expanded(node) ? 'expand_more' : 'chevron_right'
           }}</mat-icon>
         </button>
   
         <mat-icon>folder</mat-icon>
         <span class="name" (click)="open(node)" [class.active]="store.currentFolderId() === node.id">
           {{ node.name }}
         </span>
   
         @if(node.loading) {
         <span class="spinner">...</span>
         }
       </div>
   
       <div class="children">
         <ng-container matTreeNodeOutlet></ng-container>
       </div>
     </mat-nested-tree-node>
   <!-- } -->
</mat-tree>
